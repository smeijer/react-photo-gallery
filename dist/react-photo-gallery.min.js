!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.Gallery=e()}}(function(){return function e(t,n,o){function r(i,u){if(!n[i]){if(!t[i]){var a="function"==typeof require&&require;if(!u&&a)return a(i,!0);if(l)return l(i,!0);var f=new Error("Cannot find module '"+i+"'");throw f.code="MODULE_NOT_FOUND",f}var c=n[i]={exports:{}};t[i][0].call(c.exports,function(e){var n=t[i][1][e];return r(n?n:e)},c,c.exports,e,t,n,o)}return n[i].exports}for(var l="function"==typeof require&&require,i=0;i<o.length;i++)r(o[i]);return r}({1:[function(e,t,n){(function(o){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=function(e,t,n){for(var o=!0;o;){var r=e,l=t,i=n;o=!1,null===r&&(r=Function.prototype);var u=Object.getOwnPropertyDescriptor(r,l);if(void 0!==u){if("value"in u)return u.value;var a=u.get;if(void 0===a)return;return a.call(i)}var f=Object.getPrototypeOf(r);if(null===f)return;e=f,t=l,n=i,o=!0,u=f=void 0}},f="undefined"!=typeof window?window.React:"undefined"!=typeof o?o.React:null,c=r(f),p=e("prop-types"),d=r(p),s=e("react-measure"),h=e("./Photo"),y=r(h),v=e("./utils"),g={gallery:{width:"100%"},cell:{display:"inline-block"}},b=function(e){function t(){l(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.handleClick=this.handleClick.bind(this)}return i(t,e),u(t,[{key:"handleClick",value:function(e,t){var n=t.index,o=t.cell,r=this.props,l=r.photos,i=r.onClick;"function"==typeof i&&i(e,{index:n,cell:o,photo:l[n],previous:l[n-1]||null,next:l[n+1]||null})}},{key:"render",value:function(){var e=this,t=this.props,n=t.ImageComponent,o=void 0===n?y["default"]:n,r=t.measureRef,l=t.animate,i=void 0===l||l,u=this.props,a=u.photos,f=u.columns,p=u.padding,d=u.contentRect.bounds.width;if(!d)return c["default"].createElement("div",{style:g.gallery,ref:r});var s=(0,v.computeSizes)({width:d,columns:f,padding:p,photos:a}),h=s[s.length-1],b=h.cell.posY+h.cell.height;return c["default"].createElement("div",{className:"react-photo-gallery--gallery",style:{height:b},ref:r},s.map(function(t,n){var r=t.photo,l=t.cell;return c["default"].createElement(o,{key:r.key||n,index:n,photo:r,cell:l,onClick:e.handleClick})}),c["default"].createElement("style",null,"\n          .react-photo-gallery--gallery {\n            width: 100%;\n          }\n\n          .react-photo-gallery--gallery .react-photo-gallery--photo {\n            position: absolute;\n            background-repeat: no-repeat;\n            background-position: center;\n            background-color: #fff;\n            background-size: cover;\n            transition: "+(i?"transform":"none")+" .5s;\n            will-change: transform;\n          }\n        "))}}]),t}(f.PureComponent);b.propTypes={photos:d["default"].arrayOf(h.photoPropType).isRequired,onClick:d["default"].func,columns:d["default"].number,padding:d["default"].number,ImageComponent:d["default"].any},b.defaultProps={columns:3,padding:4};var m=(0,s.withContentRect)("bounds")(b);n["default"]=m,t.exports=n["default"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./Photo":2,"./utils":4,"prop-types":void 0,"react-measure":void 0}],2:[function(e,t,n){(function(t){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),f=function(e,t,n){for(var o=!0;o;){var r=e,l=t,i=n;o=!1,null===r&&(r=Function.prototype);var u=Object.getOwnPropertyDescriptor(r,l);if(void 0!==u){if("value"in u)return u.value;var a=u.get;if(void 0===a)return;return a.call(i)}var f=Object.getPrototypeOf(r);if(null===f)return;e=f,t=l,n=i,o=!0,u=f=void 0}},c="undefined"!=typeof window?window.React:"undefined"!=typeof t?t.React:null,p=o(c),d=e("prop-types"),s=o(d),h=function(e){function t(){l(this,t),f(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.handleClick=this.handleClick.bind(this)}return i(t,e),a(t,[{key:"shouldComponentUpdate",value:function(e){var t=this.props,n=t.photo,o=t.cell,r=e.photo!==n&&e.photo.src!==n.src||Object.keys(e.cell).some(function(t){return e.cell[t]!==o[t]});return r}},{key:"handleClick",value:function(e){var t=this.props,n=t.onClick,o=t.index,r=t.photo,l=t.cell;"function"==typeof n&&n(e,{photo:r,cell:l,index:o})}},{key:"render",value:function(){var e=this.props,t=e.photo,n=e.cell,o=(e.index,e.onClick),l=e.className,i=r(e,["photo","cell","index","onClick","className"]);return p["default"].createElement("div",u({className:["react-photo-gallery--photo",l].join(" "),style:{width:n.width,height:n.height,transform:"translate("+n.posX+"px, "+n.posY+"px)",backgroundImage:"url("+t.src+")",cursor:"function"==typeof o?"pointer":"default"}},i,{onClick:this.handleClick}))}}]),t}(c.PureComponent),y=s["default"].shape({src:s["default"].string.isRequired,width:s["default"].number.isRequired,height:s["default"].number.isRequired,alt:s["default"].string,title:s["default"].string,srcSet:s["default"].array,sizes:s["default"].array});n.photoPropType=y;var v=s["default"].shape({posX:s["default"].number,posY:s["default"].number,width:s["default"].number,height:s["default"].number});n.cellPropType=v,h.propTypes={index:s["default"].number,onClick:s["default"].func,photo:y,cell:v},n["default"]=h}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"prop-types":void 0}],3:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var r=e("./Gallery"),l=o(r),i=e("./Photo"),u=o(i);n.Gallery=l["default"],n.Photo=u["default"],n["default"]=l["default"]},{"./Gallery":1,"./Photo":2}],4:[function(e,t,n){"use strict";function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function r(e){var t=e.width,n=e.height;return t/n}function l(e){var t=e.photos,n=e.columns,l=e.width,u=e.padding;if(!l)return[];if(i&&i.photos===t&&i.rowWidth===l&&i.columns===n&&i.padding===u)return i.cells;var a=t.reduce(function(e,t,r){var l=Math.floor(r/n);return e[l]=e[l]?[].concat(o(e[l]),[t]):[t],e},[]),f=0,c=0,p=a.map(function(e,t){var o=e.reduce(function(e,t){return e+r(t)},0),i=t!==a.length-1||e.length>1?Math.floor(l/o):Math.floor(l/n/o),p=e.map(function(o,a){var p=a!==e.length-1?Math.floor(i*r(o)):1===e.length&&n>1?Math.floor(l/n*r(o)):Math.floor(l-f),d={photo:o,cell:{height:i,width:p,posX:f,posY:c,row:t,column:a}};return f+=p+u,d});return c+=i+u,f=0,p}),d=p.reduce(function(e,t){return[].concat(o(e),o(t))},[]);return i={rowWidth:l,columns:n,padding:u,photos:t,cells:d},d}Object.defineProperty(n,"__esModule",{value:!0}),n.ratio=r,n.computeSizes=l;var i=void 0},{}]},{},[3])(3)});